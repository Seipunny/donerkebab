# Настройка доски для нарезки с ножом

## 1. Создание доски для нарезки (Cutting Board)

### Шаг 1: Создать GameObject для доски
1. В иерархии Unity: `Right Click → 3D Object → Cube` (или используйте свою 3D модель доски)
2. Назовите объект `CuttingBoard`
3. Настройте Scale и Position доски как вам нужно

### Шаг 2: Создать слот для овоща
1. Внутри `CuttingBoard` создайте пустой GameObject: `Right Click → Create Empty`
2. Назовите его `VegetableSlot`
3. Позиционируйте `VegetableSlot` в центре доски (там где будет лежать овощ)
   - Например: Position Y немного выше поверхности доски (+0.1)

### Шаг 3: Добавить компоненты на доску
На GameObject `CuttingBoard` добавьте:

1. **Collider** (если еще нет):
   - `Add Component → Box Collider`
   - Настройте размер Collider'а по размеру доски

2. **Outline** компонент:
   - `Add Component → Outline`
   - Настройки:
     - Outline Mode: `OutlineAll`
     - Outline Color: Зеленый или желтый
     - Outline Width: `0` (будет меняться при наведении)

3. **CuttingBoard** скрипт:
   - `Add Component → CuttingBoard`
   - В инспекторе:
     - **Outline Settings:**
       - `Outline Component`: Перетащите Outline компонент
       - `Outline Width On Look`: `10`
       - `Outline Width Default`: `0`
       - `Transition Speed`: `10`
     - **Board Settings:**
       - `Vegetable Slot`: Перетащите созданный `VegetableSlot` Transform

---

## 2. Создание ножа (Knife)

### Шаг 1: Создать GameObject для ножа
1. В иерархии Unity: `Right Click → 3D Object → Cube` (или используйте 3D модель ножа)
2. Назовите объект `Knife`
3. Позиционируйте нож рядом с доской (справа/слева от нее)

### Шаг 2: Добавить компоненты на нож
На GameObject `Knife` добавьте:

1. **Collider** (если еще нет):
   - `Add Component → Box Collider`
   - Настройте размер под нож

2. **Outline** компонент:
   - `Add Component → Outline`
   - Настройки такие же как у доски

3. **Knife** скрипт:
   - `Add Component → Knife`
   - В инспекторе:
     - **Outline Settings:**
       - `Outline Component`: Перетащите Outline компонент
       - `Outline Width On Look`: `10`
       - `Outline Width Default`: `0`
       - `Transition Speed`: `10`
     - **Knife Settings:**
       - `Cutting Board`: Перетащите GameObject `CuttingBoard`
       - `Chopping Time`: `5` (секунд)
     - **Chopped Prefabs:** (см. Шаг 3)
     - **UI:**
       - `Chopping Progress Bar`: Создайте UI прогресс бар (см. Шаг 4)

### Шаг 3: Создать префабы нарезанных овощей
Вам нужно создать 3 префаба для нарезанных версий овощей:

1. **Нарезанные помидоры** (`ChoppedTomato`):
   - Создайте 3D модель нарезанных помидоров
   - Сохраните как префаб в папке `Prefabs/ChoppedVegetables/`
   - Перетащите в поле `Chopped Tomato Prefab` в инспекторе ножа

2. **Нарезанная капуста** (`ChoppedCabbage`):
   - Создайте 3D модель нарезанной капусты
   - Сохраните как префаб
   - Перетащите в поле `Chopped Cabbage Prefab`

3. **Нарезанные огурцы** (`ChoppedCucumber`):
   - Создайте 3D модель нарезанных огурцов
   - Сохраните как префаб
   - Перетащите в поле `Chopped Cucumber Prefab`

### Шаг 4: Создать UI прогресс бар для нарезки
1. В Canvas создайте UI Image:
   - `Right Click on Canvas → UI → Image`
   - Назовите `ChoppingProgressBar`

2. Настройте Image:
   - Image Type: `Filled`
   - Fill Method: `Radial 360`
   - Clockwise: ✓
   - Fill Origin: `Top`
   - Fill Amount: `0`

3. Позиционирование:
   - Anchor: `Center`
   - Position: Рядом с прицелом (например X: 100, Y: 0)
   - Size: 50x50

4. Визуальный стиль:
   - Color: Желтый или зеленый
   - Sprite: Круг (можно создать через `Create → 2D → Sprites → Circle`)

5. Назначьте в Knife:
   - Перетащите `ChoppingProgressBar` в поле `Chopping Progress Bar` в инспекторе ножа

---

## 3. Настройка CameraRaycastInteraction

На вашем игроке должен быть компонент `CameraRaycastInteraction`:

1. Найдите объект с камерой игрока
2. В компоненте `CameraRaycastInteraction`:
   - **Vegetable Hand Slots** должен быть массив из 4 Transform'ов
   - Если еще не создали - создайте 4 пустых GameObject'а внутри рук игрока:
     - `VegetableSlot_0` (например Position: 0, 0, 0)
     - `VegetableSlot_1` (например Position: 0.05, 0, 0)
     - `VegetableSlot_2` (например Position: -0.05, 0, 0)
     - `VegetableSlot_3` (например Position: 0, 0.05, 0)
   - Перетащите их в массив `Vegetable Hand Slots[0-3]`

---

## 4. Как использовать в игре

### Положить овощ на доску:
1. Возьмите 1 овощ из контейнера (в руках будет 1 овощ)
2. Подойдите к доске
3. Нажмите **ЛКМ** на доску
4. Овощ появится на доске в слоте `VegetableSlot`

### Порезать овощ:
1. На доске должен быть овощ (целый, не нарезанный)
2. Наведите прицел на **нож**
3. **Зажмите и держите ЛКМ** в течение 5 секунд
4. Прогресс бар будет заполняться
5. Когда прогресс бар заполнится - овощ заменится на нарезанную версию

### Забрать овощ с доски:
1. Руки должны быть пустыми
2. Подойдите к доске с овощем
3. Нажмите **ЛКМ** на доску
4. Овощ (целый или нарезанный) переместится в руки

### Важные замечания:
- Если отпустить ЛКМ во время нарезки - прогресс сбросится
- На доску можно положить только 1 овощ за раз
- Нельзя положить на доску если держишь несколько овощей
- Нарезанные овощи можно забрать и использовать дальше

---

## 5. Проверка работоспособности

### Checklist:
- [ ] Доска имеет Collider
- [ ] Доска имеет компонент CuttingBoard
- [ ] У доски назначен VegetableSlot
- [ ] Нож имеет Collider
- [ ] Нож имеет компонент Knife
- [ ] У ножа назначена доска (Cutting Board)
- [ ] У ножа назначены все 3 префаба нарезанных овощей
- [ ] Создан UI прогресс бар и назначен в нож
- [ ] CameraRaycastInteraction имеет 4 Vegetable Hand Slots
- [ ] Outline компоненты добавлены на доску и нож

### Тестирование:
1. Запустите игру
2. Возьмите 1 помидор из контейнера
3. Положите на доску (ЛКМ на доску)
4. Зажмите ЛКМ на ноже и держите 5 секунд
5. Проверьте что помидор превратился в нарезанный
6. Заберите нарезанный помидор с доски

---

## Troubleshooting

**Проблема:** Не могу положить овощ на доску
- Проверьте что держите только 1 овощ (не несколько)
- Проверьте что у доски есть Collider
- Проверьте что VegetableSlot назначен в CuttingBoard

**Проблема:** Нарезка не начинается
- Проверьте что овощ лежит на доске
- Проверьте что у ножа назначена доска (Cutting Board)
- Проверьте что зажимаете ЛКМ именно на ноже

**Проблема:** Овощ не превращается в нарезанный
- Проверьте что назначены prefab'ы нарезанных овощей
- Проверьте тип овоща и соответствующий prefab
- Проверьте консоль на ошибки

**Проблема:** Прогресс бар не отображается
- Проверьте что UI Image создан и настроен как Filled
- Проверьте что он назначен в Knife компонент
- Проверьте что Canvas активен
